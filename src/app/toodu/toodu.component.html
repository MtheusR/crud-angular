<body>
  <h1 id="title-page">Toodu</h1>

  <div class="container">
    <h2 id="title-form">Nova Task</h2>
    <form id="form" [formGroup]="taskForm" (ngSubmit)="onSubmit()">
      <div class="column">
        <!-- TITULO -->
        <input
          class="form-content"
          id="title"
          type="text"
          formControlName="title"
          [class.invalid]="taskForm.get('title')?.invalid && taskForm.get('title')?.touched"
          placeholder="Digite aqui o título..."
        />

        <!-- PRIORIDADE -->
        <select
          id="priority"
          class="form-content"
          formControlName="priority">
          <option value="null" disabled selected>Prioridade</option>
          <option value="Alta">Alta</option>
          <option value="Media">Media</option>
          <option value="Baixa">Baixa</option>
        </select>

        <!-- DATA -->
        <input
          type="date"
          class="form-content"
          id="duedate"
          formControlName="dueDate"
        />
      </div>

      <!-- DESCRICAO -->
      <textarea
        class="form-content"
        id="description"
        rows="5"
        formControlName="description"
        placeholder="Digite aqui a descrição..."
      ></textarea>

      <!-- BOTAO -->
      <button id="add-button" type="submit">
        <div>Adicionar task</div>
      </button>

      <button id="save-button" class="save-button" style="display: none">
        Salvar
      </button>
    </form>
  </div>

  <div class="container">
    <div class="task" *ngFor="let task of tasks">
      <div class="row-header">
        <input
          type="checkbox"
          [checked]="task.completed"
          (change)="toggleCompleted(task)"
          [ngClass]="{
            'priority-null': task.priority === null,
            'priority-Alta': task.priority === 'Alta',
            'priority-Media': task.priority === 'Media',
            'priority-Baixa': task.priority === 'Baixa'
          }"
        />
        <h2 class="task-title">{{ task.title }}</h2>
        <p *ngIf="task.dueDate" class="task-due-date">{{ task.dueDate }}</p>
        <p class="task-priority priority-${item.priority}">
          {{ task.priority }}
        </p>
      </div>
      <p class="task-description">{{ task.description }}</p>
      <div class="row-buttons">
        <button class="option-button" id="editButton" onclick="editItem()">
          <img src="./../../assets/icon-edit.png" />
          <span>Editar</span>
        </button>
        <button
          
          class="option-button"
          id="deleteButton"
        >
          <img src="./../../assets/icon-delete.png" />
          <span>Excluir</span>
        </button>
      </div>
    </div>
  </div>
</body>
